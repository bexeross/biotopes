---
title: "Classification Trees"
output: html_notebook
---
## Libraries
```{r}
library(party)
library(rpart)
library(treeheatr)
```

## Arrange the data
Manually create a class column with the desired classification. Needs "resKR"
```{r}
data <- cbind(data.frame(class = NA), sub.coredata)

# Set number of classes needed
n<-7

# Make reclassification table
reclassify <- data.frame(level=c(1,4,5,5,3,3,3),
                         class=c(3,18,38,39,8,11,10),
                         new_class=sprintf("KR%s",seq(1:n)))

# Reclassify
for(i in 1:n){
  data[getsamplesingrp(resKR,reclassify$level[i],reclassify$class[i]),"class"]<-as.character(reclassify$new_class[i])
}

table(data$class)
```

## Parameters
```{r}

predictors <- paste(colnames(data), collapse="+")
fmla <- as.formula(paste("class", predictors,sep="~"))


```
